{"version":3,"file":"component---src-pages-services-aem-experience-hub-api-commons-index-md-b4932147c23e7eb06369.js","mappings":"yRAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,KAACR,GAASS,EAAAA,EAAAA,GAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,eAG5EF,EAAAA,EAAAA,KAAA,MACE,GAAM,0CAAwC,2CAEhDA,EAAAA,EAAAA,KAAA,kGACAA,EAAAA,EAAAA,KAAA,MACE,GAAM,mBAAiB,oBAEzBA,EAAAA,EAAAA,KAAA,mCAA6BA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,mBAAiC,KAAKH,EAAAA,EAAAA,KAAA,KAAGG,WAAW,IACvG,KAAQ,mEAAiE,mBACjD,mJACkEH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,mBAAiC,qCAEzJH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBAAe,0FAKhCH,EAAAA,EAAAA,KAAA,mCAA6BA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,mBAAiC,WACxFH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBAAe,qGAQhCH,EAAAA,EAAAA,KAAA,MACE,GAAM,0BAAwB,2BAEhCA,EAAAA,EAAAA,KAAA,2OACsGA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,YAA0B,yBACzIH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,oBAAkC,uJAE7EH,EAAAA,EAAAA,KAAA,oBAAcA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,YAA0B,sEAClEH,EAAAA,EAAAA,KAAA,uDACAA,EAAAA,EAAAA,KAAA,WACEA,EAAAA,EAAAA,KAAA,MAAIG,WAAW,OAAKH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,MAAI,MAAoB,sLAEnEH,EAAAA,EAAAA,KAAA,MAAIG,WAAW,OAAKH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,MAAI,WAAyB,sMAEnDH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,MAAI,aAAuB,kBACjEH,EAAAA,EAAAA,KAAA,MAAIG,WAAW,OACbH,EAAAA,EAAAA,KAAA,MAAIG,WAAW,OAAKH,EAAAA,EAAAA,KAAA,UAAQG,WAAW,MAAI,aAAuB,8EAIxEH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,gBAAc,ugCAqC/BH,EAAAA,EAAAA,KAAA,MACE,GAAM,yBAAuB,0BAE/BA,EAAAA,EAAAA,KAAA,qTAA+SA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,UAAwB,aACjWH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,gBAAc,2kCAwC/BH,EAAAA,EAAAA,KAAA,MACE,GAAM,4CAA0C,6CAElDA,EAAAA,EAAAA,KAAA,kBAAYA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,YAA0B,SAASH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,UAAwB,iBAAiBH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,oBAAkC,6CAA6CH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAG,QAAsB,mKAIzS,CAEAT,EAAWU,gBAAiB,C","sources":["webpack://@adobe/uix-docs/./src/pages/services/aem-experience-hub/api/commons/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/uix/uix/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"common-concepts-in-creating-extensions\"\n    }}>{`Common Concepts in Creating Extensions`}</h1>\n    <p>{`Understand the fundamentals required to develop an extension for AEM Experience Hub.`}</p>\n    <h2 {...{\n      \"id\": \"extension-point\"\n    }}>{`Extension Point`}</h2>\n    <p>{`Experience Hub has an `}<inlineCode parentName=\"p\">{`aem/launchpad/1`}</inlineCode>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.adobe.com/app-builder/docs/guides/extensions/\"\n      }}>{`extension point`}</a>{` that allows you to extend its functionality.\nTo declare it to be used by your extension, you need to add the following configuration to your `}<inlineCode parentName=\"p\">{`app.config.yaml`}</inlineCode>{` at the\nroot of your extension:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`extensions:\n  aem/launchpad/1:\n    $include: src/aem/launchpad/1/ext.config.yaml\n`}</code></pre>\n    <p>{`Here is an example of `}<inlineCode parentName=\"p\">{`ext.config.yaml`}</inlineCode>{` file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`operations:\n  view:\n    - type: web\n      impl: index.html\nactions: actions\nweb: web-src\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"extension-registration\"\n    }}>{`Extension Registration`}</h2>\n    <p>{`Interaction between UI Extension and Experience Hub starts with the initialization process that includes extension's\ncapabilities registration so Experience Hub knows when to invoke the extension. Registration is done by `}<inlineCode parentName=\"p\">{`register`}</inlineCode>{`\nmethod provided by `}<inlineCode parentName=\"p\">{`@adobe/uix-guest`}</inlineCode>{` library. This asynchronous method takes single object that describes extension\nand returns object representing connection to the Experience Hub.`}</p>\n    <p>{`Method `}<inlineCode parentName=\"p\">{`register`}</inlineCode>{` should be invoked after extension initialization page is loaded.`}</p>\n    <p>{`Extension registration data must include:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`id`}</inlineCode>{` - string with random extension identifier. This identifier useful for debugging of interaction between Experience\nHub and extension and needed if extension provides custom UI.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`methods`}</inlineCode>{` - objects with extension code exposed to the Experience Hub. All methods are grouped into\nnamespaces that represents extension points provided by the Experience Hub.\nCurrently, the following `}<strong parentName=\"li\">{`namespace`}</strong>{` is available:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><strong parentName=\"li\">{`dashboard`}</strong>{`, that allows to add custom widgets and customize the dashboard layout`}</li>\n        </ul>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { Text } from \"@adobe/react-spectrum\";\nimport { register } from \"@adobe/uix-guest\";\nimport metadata from '../../../../app-metadata.json';\nimport { extensionId } from \"./Constants\";\n\nfunction ExtensionRegistration() {\n  const init = async () => {\n    const guestConnection = await register({\n      id: extensionId,\n      metadata,\n      methods: {\n        dashboard: {\n          getWidget() {\n            return {\n                id: extensionId,\n                title: 'demo-extension-project',\n                description: 'This is demo-extension-project',\n                url: '/index.html#/demo-extension-project',\n                widgetSize: {\n                  defaultWidth: 6,\n                  defaultHeight: 6\n                },\n                hideWidgetHeader: false\n              };\n          },\n        },\n      },\n    });\n  };\n  init().catch(console.error);\n\n  return <Text>IFrame for integration with Host (AEM)...</Text>\n}\n\nexport default ExtensionRegistration;\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"building-extension-ui\"\n    }}>{`Building Extension UI`}</h2>\n    <p>{`In cases where a UI Extension manages data or sends data to a remote service, the register method is the only one expected to be called. If the UI Extension includes its own interface and it needs data from Experience Hub or needs to trigger any logic, it should establish a connection using the `}<inlineCode parentName=\"p\">{`attach`}</inlineCode>{` method.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React, { useEffect, useState } from 'react';\nimport { attach } from \"@adobe/uix-guest\";\nimport { TextField, Button } from '@adobe/react-spectrum';\nimport { extensionId } from \"./Constants\";\nimport FormService from \"./FormService\";\n\nexport default function ExtensionForm() {\n  const [prompt, setPrompt] = useState('');\n  const [guestConnection, setGuestConnection] = useState();\n\n  const handleSubmit = async () => {\n    const instanceInfo = await guestConnection.host?.instance?.info();\n    const {programId, environmentId} = instanceInfo ?? {};\n    FormService.post(prompt, programId, environmentId);\n  }\n\n  useEffect(() => {\n    const init = async () => {\n      const connection = await attach({ id: extensionId });\n      setGuestConnection(connection);\n    }\n\n    init().catch(console.error);\n  }, [])\n\n  return (\n    <div className=\"extension-form\">\n      <TextField\n        label=\"Prompt\"\n        value={prompt}\n        onChange={setPrompt}\n      />\n      <Button onPress={handleSubmit}>\n        Submit\n      </Button>\n    </div>\n  );\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"set-up-communication-with-experience-hub\"\n    }}>{`Set up communication with Experience Hub`}</h2>\n    <p>{`Both `}<inlineCode parentName=\"p\">{`register`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`attach`}</inlineCode>{` function of `}<inlineCode parentName=\"p\">{`@adobe/uix-guest`}</inlineCode>{` returns same connection object that has `}<inlineCode parentName=\"p\">{`host`}</inlineCode>{` property and\nexpose API of Experience Hub exposed for UI Extensions. Through this API you can access data from the Experience Hub as well as send data to it.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}