"use strict";(self.webpackChunk_adobe_uix_docs=self.webpackChunk_adobe_uix_docs||[]).push([[869],{6818:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return r},default:function(){return u}});var i=t(87462),a=t(45987),o=(t(15007),t(64983)),s=t(91515);const l=["components"],r={},p=(d="InlineAlert",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)});var d;const m={_frontmatter:r},c=s.Z;function u(e){let{components:n}=e,t=(0,a.Z)(e,l);return(0,o.mdx)(c,(0,i.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"details-view"},"Details View"),(0,o.mdx)("p",null,"The Details View in the AEM Assets View shows detailed information about the selected asset."),(0,o.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"UI Extensibility is supported in Assets Ultimate only."),(0,o.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"To get access to Assets View UI extensibility,\n",(0,o.mdx)("a",{parentName:"p",href:"https://helpx.adobe.com/enterprise/using/support-for-experience-cloud.html"},"create and submit an Adobe Customer Support case"),'.\nYou can provide documentation feedback by clicking "Log an issue".'),(0,o.mdx)("p",null,"Extensions should use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"aem/assets/details/1")," extension point to utilize extensibility services of the Details View."),(0,o.mdx)("h2",{id:"custom-side-panels"},"Custom side panels"),(0,o.mdx)("p",null,"The extensibility feature allows adding new panels and corresponding icon buttons to the side rail\nusing the ",(0,o.mdx)("inlineCode",{parentName:"p"},"detailsSidePanel")," namespace. The custom icons appear under the\nlist of the standard panel icons."),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.75%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/uix/static/f40348be28368bc40cb4c3a7b19993b4/5530d/side-panel.webp 320w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/0c8fb/side-panel.webp 640w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/94b1e/side-panel.webp 1280w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/6e30a/side-panel.webp 1549w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/uix/static/f40348be28368bc40cb4c3a7b19993b4/dd4a7/side-panel.png 320w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/0f09e/side-panel.png 640w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/bbbf7/side-panel.png 1280w","/uix/static/f40348be28368bc40cb4c3a7b19993b4/4596f/side-panel.png 1549w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/f40348be28368bc40cb4c3a7b19993b4/bbbf7/side-panel.png",alt:"side panel",title:"side panel",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,o.mdx)("p",null,"The host application fully manages UI interaction, including toggling the panel when user clicks the button,\ndeep linking panel in the URL and auto-hiding the panel when an asset changes."),(0,o.mdx)("p",null,"The host is also responsible for rendering panel's header."),(0,o.mdx)("p",null,"The extension only declares the icon type, panel title and the URL for the custom panel content."),(0,o.mdx)("h2",{id:"api-reference"},"API Reference"),(0,o.mdx)("p",null,"This API reference section is further broken down into two parts: the API provided by the AEM Assets View host application\nto the extension and the API provided by the extension to the AEM Assets View host application."),(0,o.mdx)("h3",{id:"host-api-reference"},"Host API Reference"),(0,o.mdx)("p",null,"In addition to the ",(0,o.mdx)("a",{parentName:"p",href:"../commons"},"Common API")," provided by AEM Assets View to all extensions,\nthe host application provides the following API specific to the ",(0,o.mdx)("inlineCode",{parentName:"p"},"aem/assets/details/1")," extension point\nand the ",(0,o.mdx)("inlineCode",{parentName:"p"},"detailSidePanel")," namespace."),(0,o.mdx)("p",null,(0,o.mdx)("inlineCode",{parentName:"p"},"details.getCurrentResourceInfo()")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Description:")," returns the path and id of the asset shown in the Details View."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Return Object Structure")),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"path")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Current asset path."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"id")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Current asset id.")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Example:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"const { path, id } = await guestConnection.host.details.getCurrentResourceInfo();\n")),(0,o.mdx)("h3",{id:"extension-api-reference"},"Extension API Reference"),(0,o.mdx)("p",null,"The extension definition object passed by the extension to the ",(0,o.mdx)("inlineCode",{parentName:"p"},"register()")," function defines the ",(0,o.mdx)("inlineCode",{parentName:"p"},"detailSidePanel")," namespace\nand the ",(0,o.mdx)("inlineCode",{parentName:"p"},"getPanels()")," method within that namespace."),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"getPanels()")," method returns an array of custom panel descriptors that the extension wants to add to the side rail\nof the Details View. Each panel descriptor should include the following properties:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"id")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Panel id, unique within given extension."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"tooltip")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Icon tooltip."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"title")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Custom panel title."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"icon")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Name of the ",(0,o.mdx)("a",{parentName:"li",href:"https://react-spectrum.adobe.com/react-spectrum/workflow-icons.html#available-icons"},"React-Spectrum workflow icon"),"."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"contentUrl")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"string"),"): Relative root to the panel's content."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"reloadOnThemeChange")," (",(0,o.mdx)("inlineCode",{parentName:"li"},"boolean"),"): Whether to reload custom panel when application theme changes.")),(0,o.mdx)("h2",{id:"example-of-adding-custom-side-panels"},"Example of adding custom side panels"),(0,o.mdx)("p",null,"These code snippets demonstrate how to create a custom side panel using UIX SDK library and add it to the side rail\nof the Details View. (The examples below serve illustrative purposes thus omit certain ",(0,o.mdx)("inlineCode",{parentName:"p"},"import")," statements and other\nnon-important parts.)"),(0,o.mdx)("p",null,"Here, the main application code defines three routes:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"the first two are the default routes which trigger the ",(0,o.mdx)("inlineCode",{parentName:"li"},"ExtensionRegistration")," component responsible for initial extension registration\nwithin the AEM Assets View application."),(0,o.mdx)("li",{parentName:"ul"},"the ",(0,o.mdx)("inlineCode",{parentName:"li"},"extension-template")," route which invokes the ",(0,o.mdx)("inlineCode",{parentName:"li"},"PanelExtensionTemplate")," component responsible for rendering the\ncustom panel content. This route gets called by the AEM Assets View application when the user clicks the custom panel icon.\nDuring the registration the extension will specify ",(0,o.mdx)("inlineCode",{parentName:"li"},"/#extension-template")," as content location.")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"function App() {\n    return (\n        <Router>\n            <ErrorBoundary onError={onError} FallbackComponent={fallbackComponent}>\n                <Routes>\n                    <Route index element={<ExtensionRegistration />} />\n                    <Route exact path=\"index.html\" element={<ExtensionRegistration />} />\n                    <Route path=\"extension-template\" element={<PanelExtensionTemplate />} />\n                    // YOUR CUSTOM ROUTES SHOULD BE HERE\n                </Routes>\n            </ErrorBoundary>\n        </Router>\n    );\n\n    function onError(e, componentStack) {}\n\n    function fallbackComponent({ componentStack, error }) {\n        return (\n            <React.Fragment>\n                <h1 style={{ textAlign: 'center', marginTop: '20px' }}>\n                    Extension rendering error\n                </h1>\n                <pre>{componentStack + '\\n' + error.message}</pre>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default App;\n")),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"ExtensionRegistration")," component initializes the extension registration process by calling the ",(0,o.mdx)("inlineCode",{parentName:"p"},"register()")," function\nprovided by the ",(0,o.mdx)("inlineCode",{parentName:"p"},"@adobe/uix-guest")," library. "),(0,o.mdx)("p",null,"The objects passed to the ",(0,o.mdx)("inlineCode",{parentName:"p"},"register()")," function describe the extension and its capabilities. In particular, it declares that the\nextension uses the ",(0,o.mdx)("inlineCode",{parentName:"p"},"detailSidePanel")," namespace and declares ",(0,o.mdx)("inlineCode",{parentName:"p"},"getPanels")," method which returns an array of custom panels.\nThe custom panel, among other properties, specifies the icon's tooltip, the custom panel title and the route to the panel content."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"function ExtensionRegistration() {\n    const init = async () => {\n        const guestConnection = await register({\n            id: extensionId,\n            methods: {\n                detailSidePanel: {\n                    getPanels() {\n                        return [\n                            {\n                                'id': 'extension-template',\n                                'tooltip': 'Extension Template',\n                                'icon': 'Extension',\n                                'title': 'Extension Template',\n                                'contentUrl': '/#extension-template',\n                                'reloadOnThemeChange': 'true',\n                            },\n                        ];\n                    },\n                },\n            },\n        });\n    };\n    init().catch(console.error);\n\n    return <Text>IFrame for integration with Host (AEM Assets View)...</Text>;\n}\n\nexport default ExtensionRegistration;\n")),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"PanelExtensionTemplate")," component is responsible for rendering the custom panel content. It uses the ",(0,o.mdx)("inlineCode",{parentName:"p"},"attach()")," function\nprovided by the ",(0,o.mdx)("inlineCode",{parentName:"p"},"@adobe/uix-guest"),' library to establish a connection with the AEM Assets View and uses this connection object to\nrender a toast message within the AEM Assets View when the user clicks the "Click me!" button.'),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},'export default function PanelExtensionTemplate() {\n    // Fields\n    const [guestConnection, setGuestConnection] = useState();\n    const [colorScheme, setColorScheme] = useState(\'light\');\n\n    useEffect(() => {\n        (async () => {\n            const guestConnection = await attach({ id: extensionId });\n            setGuestConnection(guestConnection);\n\n            const { colorScheme } = await guestConnection.host.theme.getThemeInfo();\n            setColorScheme(colorScheme);\n        })()\n    }, []);\n\n    function displayToast(variant, message) {\n        guestConnection.host.toast.display({ variant, message });\n    }\n\n    return (\n        <Provider theme={defaultTheme} colorScheme={colorScheme} height={\'100vh\'}>\n            <View backgroundColor="gray-50">\n                <View padding="size-300">\n                    <Text>Please visit <Link href="https://developer.adobe.com/uix/docs/">UI Extensibility documentation</Link> to get started.</Text>\n\n                    <Flex justifyContent="center" marginTop="size-400">\n                        <ButtonGroup>\n                            <Button variant="primary" onPress={() => displayToast(\'neutral\', \'Message from the Extension\')}>Click me!</Button>\n                        </ButtonGroup>\n                    </Flex>\n                </View>\n            </View>\n        </Provider>\n    );\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-services-aem-assets-view-api-details-view-index-md-150ca223d457e64f43c7.js.map