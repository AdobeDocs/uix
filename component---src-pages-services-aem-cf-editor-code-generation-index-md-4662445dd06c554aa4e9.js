"use strict";(self.webpackChunk_adobe_uix_docs=self.webpackChunk_adobe_uix_docs||[]).push([[2613],{10340:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return x}});var a=n(87462),o=n(45987),i=(n(15007),n(64983)),r=n(91515);const s=["components"],l={},d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",t)},p=d("InlineAlert"),m=d("DiscoverBlock"),c={_frontmatter:l},u=r.Z;function x(e){let{components:t}=e,n=(0,o.Z)(e,s);return(0,i.mdx)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"code-generation-for-aem-content-fragments-editor-extension"},"Code Generation for AEM Content Fragments Editor Extension"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aem-cf-editor-ui-ext-tpl"},"AEM Content Fragment Editor Extension Template")," help developers to bootstrap their App Builder apps when using the ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"AIO CLI")," and generates basic extension structure and all required code."),(0,i.mdx)("p",null,"Template is optional to use, but we highly recommend it in order to save time and has less knowledge regarding internal UI Extensions structure."),(0,i.mdx)("p",null,"The extension template generation tool allows you to generate stubs for all existing extension points, ensuring that all the necessary files are included."),(0,i.mdx)("p",null,"Additionally, you can generate a demo project to observe and understand extensibility functionality in general."),(0,i.mdx)("h2",{id:"check-requirements"},"Check Requirements"),(0,i.mdx)("p",null,"Before starting, ensure that you have followed all the necessary requirements:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Ensure that you have access to the ",(0,i.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/"},"Adobe Developer Console"),". If not, refer to the ",(0,i.mdx)("a",{parentName:"li",href:"../../../guides/get-access"},"How to Get Access")," guide for instructions."),(0,i.mdx)("li",{parentName:"ul"},"Verify that you have already created an App Builder Project within your IMS Organization. If not, follow the steps outlined in the ",(0,i.mdx)("a",{parentName:"li",href:"../../../guides/creating-project-in-dev-console"},"Creating a Project in the Adobe Developer Console")," guide."),(0,i.mdx)("li",{parentName:"ul"},"Make sure your local environment is properly set up and up to date. For instructions on setting up your local environment, refer to the ",(0,i.mdx)("a",{parentName:"li",href:"../../../guides/local-environment"},"Local Environment Setup"),".")),(0,i.mdx)("h2",{id:"launch-code-generation"},"Launch code generation"),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"You need to have latest AIO CLI version to use the  all available templates. Please refer to ",(0,i.mdx)("a",{parentName:"p",href:"../../../guides/local-environment"},"Local Environment Set Up"),"."),(0,i.mdx)("h3",{id:"1-initialize-a-project"},"1. Initialize a project"),(0,i.mdx)("p",null,"Create a project directory and execute the following commands from it."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"demo-extension-project % aio app init\n")),(0,i.mdx)("p",null,"During the first run, a browser window will open, prompting you to log in to your organization. Once you have successfully logged in, you will see the desired result in the browser. You can then switch back to the command-line interface (CLI)."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1036px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"121.875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/b26e051a776af41f167831165a1ccd81/5530d/aio-app-login-signedin.webp 320w","/uix/static/b26e051a776af41f167831165a1ccd81/0c8fb/aio-app-login-signedin.webp 640w","/uix/static/b26e051a776af41f167831165a1ccd81/57ca4/aio-app-login-signedin.webp 1036w"],sizes:"(max-width: 1036px) 100vw, 1036px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/b26e051a776af41f167831165a1ccd81/dd4a7/aio-app-login-signedin.png 320w","/uix/static/b26e051a776af41f167831165a1ccd81/0f09e/aio-app-login-signedin.png 640w","/uix/static/b26e051a776af41f167831165a1ccd81/4423c/aio-app-login-signedin.png 1036w"],sizes:"(max-width: 1036px) 100vw, 1036px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/b26e051a776af41f167831165a1ccd81/4423c/aio-app-login-signedin.png",alt:"Successfully signed in",title:"Successfully signed in",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("h3",{id:"2-select-the-appropriate-organization-and-project"},"2. Select the appropriate organization and project"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"demo-extension-project % aio app init\n? Select Org: (Use arrow keys or type to search)\n    ❯ Alpha Org\n      Beta Org \n")),(0,i.mdx)("p",null,"You can either select the project by scrolling or you can filter the list of projects by beginning to type the name of the project."),(0,i.mdx)("p",null,"Please make sure that the project is created within the selected organization, as mentioned in the requirements list at the beginning."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"% aio app init\n? Select Org: Alpha Org\n? Select a Project, or press + to create new: (Use arrow keys or type to search)\n❯ AEM CF Editor demo project \n  AEM CF Admin demo roject\n  AEM Headless APIs and Events\n")),(0,i.mdx)("h3",{id:"3-select-the-template"},"3. Select the template"),(0,i.mdx)("p",null,"Select one of the search options to specify the templates that you are interested in (we recommend to use ",(0,i.mdx)("inlineCode",{parentName:"p"},"All Extension Points"),")."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"aio app init\n? Select Org: Alpha Org\n? Select a Project, or press + to create new: AEM CF Editor demo project\n? What templates do you want to search for? \n  All Templates \n❯ All Extension Points \n  Only Templates Supported By My Org \n")),(0,i.mdx)("p",null,"Using the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<Up and Down>")," keys, please navigate and select the template named ",(0,i.mdx)("inlineCode",{parentName:"p"},"@adobe/aem-cf-admin-ui-ext-tpl")," (Extensibility template for AEM Content Fragment Editor) by pressing the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<Space>")," key."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"aio app init\n? Select Org: Alpha Org\n? Select a Project, or press + to create new: AEM CF Editor demo project\n? What templates do you want to search for? All Extension Points\n✔ Downloaded the list of templates\n? Choose the template(s) to install: (Press <space> to select, <Up and Down> to move rows)\n┌──────┬──────────────────────────────────────────────────────────────┬──────────────────────────────────────────────────────────────┬────────────────────────────────────────┬────────────────────────────────────────┐\n│      │ Template                                                     │ Description                                                  │ Extension Point                        │ Categories                             │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n? Choose the template(s) to install: (Press <space> to select, <Up and Down> to move rows)\n┌──────┬──────────────────────────────────────────────────────────────┬──────────────────────────────────────────────────────────────┬────────────────────────────────────────┬────────────────────────────────────────┐\n│      │ Template                                                     │ Description                                                  │ Extension Point                        │ Categories                             │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n? Choose the template(s) to install: (Press <space> to select, <Up and Down> to move rows)\n┌──────┬──────────────────────────────────────────────────────────────┬──────────────────────────────────────────────────────────────┬────────────────────────────────────────┬────────────────────────────────────────┐\n│      │ Template                                                     │ Description                                                  │ Extension Point                        │ Categories                             │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n│ ❯◉   │ @adobe/aem-cf-editor-ui-ext-tpl *                            │ Extensibility template for AEM Content Fragment Editor       │ aem/cf-editor/1                        │ action, ui                             │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n│  ◯   │ @adobe/aem-cf-admin-ui-ext-tpl *                             │ Extensibility template for AEM Content Fragment Admin        │ aem/cf-console-admin/1                 │ action, ui                             │\n│      │                                                              │ Console                                                      │                                        │                                        │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n│  ◯   │ @adobe/generator-app-excshell *                              │ Extensibility template for generator-aio-app                 │ dx/excshell/1                          │ action, ui                             │\n├──────┼──────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────────┼────────────────────────────────────────┼────────────────────────────────────────┤\n│  -   │ @adobe/generator-app-asset-compute *                         │ Extensibility template for generator-aio-app                 │ dx/asset-compute/worker/1              │ action                                 │\n└──────┴──────────────────────────────────────────────────────────────┴──────────────────────────────────────────────────────────────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\n* = recommended by Adobe; to learn more about the templates, go to https://adobe.ly/templates\n")),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"After choosing the template using the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<Up>")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"<Down>")," keys, please remember to press the ",(0,i.mdx)("inlineCode",{parentName:"p"},"<Space>")," key to select it."),(0,i.mdx)("h3",{id:"4-fill-in-the-extension-name-description-and-version"},"4. Fill in the extension name, description, and version"),(0,i.mdx)("p",null,"Please provide the necessary information for the extension metadata, including the human-readable name, description, and version. This data will be utilized during the generation process."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"...\n✔ Installed npm package @adobe/aem-cf-editor-ui-ext-tpl\nℹ Running template @adobe/aem-cf-editor-ui-ext-tpl\n\nAEM Content Fragment Editor Template Overview:\n\n  * You have the option to generate boilerplate code for your extension.\n  * You can get help regarding documentation at any time from the menu.\n  * You can check out a sample demo project.\n  * An App Builder project will be created with Node.js packages pre-configured.\n\n? What do you want to name your extension? myorg-cf-editor-test-extension\n? Please provide a short description of your extension: A test extension for experimenting with functionalities\n? What version would you like to start with? 0.0.1\n? What would you like to do next? (Use arrow keys)\n ──────────────\n❯ Add a custom button to Header Menu \n  Add Rich Text Editor (RTE) Toolbar Button \n  Add Rich Text Editor (RTE) Toolbar Widget \n  Add Rich Text Editor (RTE) Toolbar Badge \n  ──────────────\n  I'm done\n  I don't know\n  ──────────────  \n(Move up and down to reveal more choices)  \n")),(0,i.mdx)("h2",{id:"available-generation-options"},"Available generation options"),(0,i.mdx)("p",null,"You can generate code ",(0,i.mdx)("inlineCode",{parentName:"p"},"stubs")," for any combination of the following functionalities. Detailed information about each extension point can be found in the related section."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Add ",(0,i.mdx)("a",{parentName:"li",href:"../api/header-menu"},"a custom button to Header Menu")),(0,i.mdx)("li",{parentName:"ul"},"Add ",(0,i.mdx)("a",{parentName:"li",href:"../api/rte-toolbar"},"Rich Text Editor (RTE) Toolbar Button")),(0,i.mdx)("li",{parentName:"ul"},"Add ",(0,i.mdx)("a",{parentName:"li",href:"../api/rte-widgets"},"Rich Text Editor (RTE) Toolbar Widget")),(0,i.mdx)("li",{parentName:"ul"},"Add ",(0,i.mdx)("a",{parentName:"li",href:"../api/rte-badges"},"Rich Text Editor (RTE) Toolbar Badge"))),(0,i.mdx)("p",null,"After generation, all necessary files for utilizing the chosen extension points will be created, and placeholders will be added in the generated texts to indicate where you can add your custom logic."),(0,i.mdx)("h3",{id:"example-header-menu-button-and-rte-toolbar-widget-generation"},"Example: Header Menu Button and RTE Toolbar Widget generation"),(0,i.mdx)("h4",{id:"1-add-a-custom-button-to-header-menu"},"1. Add a custom button to Header Menu"),(0,i.mdx)("p",null,"In the previous CLI dialog, please select ",(0,i.mdx)("inlineCode",{parentName:"p"},"Add a custom button to Header Menu")," and provide the desired button label. Additionally, you have the option to specify that a UI Modal should appear when the button is clicked. The UI Modal can contain custom UI elements."),(0,i.mdx)("p",null,"In our example, we specified that the UI Modal functionality is required and should be included in the generated code. However, if you do not need any UI visualization during the button's onClick processing, you can skip this option."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"? What do you want to name your extension? myorg-cf-editor-test-extension\n? Please provide a short description of your extension: A test extension for experimenting with functionalities\n? What version would you like to start with? 0.0.1\n? What would you like to do next? Add a custom button to Header Menu\n? Please provide label name for the button: Export data\n? Do you need to show a modal for the button? y\n")),(0,i.mdx)("h4",{id:"2-add-rich-text-editor-rte-toolbar-widget"},"2. Add Rich Text Editor (RTE) Toolbar Widget"),(0,i.mdx)("p",null,"Afterwards, choose the ",(0,i.mdx)("inlineCode",{parentName:"p"},"Add Rich Text Editor (RTE) Toolbar Widget")," option and provide the desired label for the button."),(0,i.mdx)("p",null,"As a final result, you will see the output in the CLI:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"...\n? What do you want to name your extension? myorg-cf-editor-test-extension\n? Please provide a short description of your extension: A test extension for experimenting with functionalities\n? What version would you like to start with? 0.0.1\n? What would you like to do next? Add a custom button to Header Menu\n? Please provide label name for the button: Export data\n? Do you need to show a modal for the button? y\n? What would you like to do next? Add Rich Text Editor (RTE) Toolbar Widget\n? Please provide label name for the widget: RTE Widget Custom Functionallity\n? What would you like to do next? \n  Add Rich Text Editor (RTE) Toolbar Widget \n  Add Rich Text Editor (RTE) Toolbar Badge \n  ──────────────\n❯ I'm done \n  I don't know \n  ──────────────\n")),(0,i.mdx)("h4",{id:"3-generate-final-result"},"3. Generate final result"),(0,i.mdx)("p",null,"Now, you can select ",(0,i.mdx)("inlineCode",{parentName:"p"},"I'm done")," to initiate the generation process, which will include code generation and installation of project dependencies."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"Sample code files have been generated.\n\nNext Steps:\n-----------\n1) Populate your local environment variables in the \".env\" file.\n2) You can use `aio app run` or `aio app deploy` to see the sample code files in action.\n\n✔ Finished running template @adobe/aem-cf-editor-ui-ext-tpl\n✔ Installed template @adobe/aem-cf-editor-ui-ext-tpl\nProject initialized for Workspace Stage, you can run 'aio app use -w <workspace>' to switch workspace.\n✔ App initialization finished!\n> Tip: you can add more actions, web-assets and events to your project via the 'aio app add' commands\n")),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"770px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"159.375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/29099d168a6a3112024201697408351d/5530d/demo-project-structure.webp 320w","/uix/static/29099d168a6a3112024201697408351d/0c8fb/demo-project-structure.webp 640w","/uix/static/29099d168a6a3112024201697408351d/a01bf/demo-project-structure.webp 770w"],sizes:"(max-width: 770px) 100vw, 770px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/29099d168a6a3112024201697408351d/dd4a7/demo-project-structure.png 320w","/uix/static/29099d168a6a3112024201697408351d/0f09e/demo-project-structure.png 640w","/uix/static/29099d168a6a3112024201697408351d/5b400/demo-project-structure.png 770w"],sizes:"(max-width: 770px) 100vw, 770px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/29099d168a6a3112024201697408351d/5b400/demo-project-structure.png",alt:"Demo project structure",title:"Demo project structure",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"extension-manifest.json")," file is a system file that stores all of your choices made during the iteration prompts in the CLI. It allows you to generate new code without losing any previously generated code or configurations. In other words, you can run the generation process whenever you need it, and the ",(0,i.mdx)("inlineCode",{parentName:"p"},"extension-manifest.json")," file ensures that your previous choices are retained."),(0,i.mdx)("p",null,'You can find the next steps, such as running the project locally and performing testing, in the "How to Run Locally" section.'),(0,i.mdx)("h2",{id:"demo-project"},"Demo project"),(0,i.mdx)("p",null,"If you are just starting to explore UI Extensibility and are unsure about certain options, don't hesitate to choose ",(0,i.mdx)("inlineCode",{parentName:"p"},"I don't know.")," option."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"...\nAEM Content Fragment Editor Template Overview:\n\n  * You have the option to generate boilerplate code for your extension.\n  * You can get help regarding documentation at any time from the menu.\n  * You can check out a sample demo project.\n  * An App Builder project will be created with Node.js packages pre-configured.\n\n? What do you want to name your extension? myorg-cf-editor-test-extension\n? Please provide a short description of your extension: A test extension for experimenting with functionalities\n? What version would you like to start with? 0.0.1\n? What would you like to do next? \n  Add Rich Text Editor (RTE) Toolbar Badge \n  ──────────────\n  I'm done \n❯ I don't know \n  ──────────────\n")),(0,i.mdx)("p",null,"A couple of options will be proposed to you:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"...\n? What do you want to name your extension? myorg-cf-editor-test-extension\n? Please provide a short description of your extension: A test extension for experimenting with functionalities\n? What version would you like to start with? 0.0.1\n? What would you like to do next? I don't know\n? What about this then? (Use arrow keys)\n  ──────────────\n❯ Try a demo project based on React (ChatGPT support for Rich Text Editor) \n  Find some help \n  ──────────────\n  Go back \n\n")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"Try demo project")," generates ready-to-use a sample extension that adds ChatGPT (an advanced language model developed by OpenAI) support to Rich Text Editor in Content Fragments Editor."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"Find some help")," displays list of useful links.")),(0,i.mdx)("p",null,"Please select the first option. It will generate a sample extension that adds a few custom buttons to the Rich Text Editor. Interacting with these buttons allows you to iterate with ChatGPT and make improvements to your text."),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"If you are using the same folder as in the previous example and want to retain the existing generated code, please keep the ",(0,i.mdx)("inlineCode",{parentName:"p"},"extension-manifest.json")," file. This file stores all of your choices made during the iteration prompts in the CLI. If you want to generate a new project without the previous examples, please remove the ",(0,i.mdx)("inlineCode",{parentName:"p"},"extension-manifest.json")," file before starting the demo project generation process."),(0,i.mdx)("p",null,"CLI result of generations:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"✔ Finished running template @adobe/aem-cf-editor-ui-ext-tpl\n✔ Installed template @adobe/aem-cf-editor-ui-ext-tpl\nProject initialized for Workspace Stage, you can run 'aio app use -w <workspace>' to switch workspace.\n✔ App initialization finished!\n> Tip: you can add more actions, web-assets and events to your project via the 'aio app add' commands\n")),(0,i.mdx)("h4",{id:"populate-local-environment-variables"},"Populate local environment variables"),(0,i.mdx)("p",null,"The example project utilizes the OpenAI platform to facilitate interaction with ChatGPT, an advanced language model developed by OpenAI. It requires you to provide the necessary API keys for authentication. These API keys enable the project to communicate with the OpenAI services and access the functionalities provided by the platform."),(0,i.mdx)("p",null,"You can obtain the OpenAI API keys by following these steps:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Go to the OpenAI website and log in to ",(0,i.mdx)("a",{parentName:"li",href:"https://platform.openai.com/account/"},"your account"),"."),(0,i.mdx)("li",{parentName:"ol"},"For the ",(0,i.mdx)("inlineCode",{parentName:"li"},"OPENAI_API_KEY"),", navigate to the API Keys page: ",(0,i.mdx)("a",{parentName:"li",href:"https://platform.openai.com/account/api-keys"},"https://platform.openai.com/account/api-keys"),"."),(0,i.mdx)("li",{parentName:"ol"},"For the ",(0,i.mdx)("inlineCode",{parentName:"li"},"OPENAI_ORG"),", go to the Organization Settings page: ",(0,i.mdx)("a",{parentName:"li",href:"https://platform.openai.com/account/org-settings"},"https://platform.openai.com/account/org-settings"),"."),(0,i.mdx)("li",{parentName:"ol"},"Once you have obtained the ",(0,i.mdx)("inlineCode",{parentName:"li"},"OPENAI_API_KEY")," and ",(0,i.mdx)("inlineCode",{parentName:"li"},"OPENAI_ORG"),", add them to the end of your ",(0,i.mdx)("inlineCode",{parentName:"li"},".env")," file located in the project's root folder.")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"# project-folder/.env\n...\nOPENAI_API_KEY=[YOUR_OPENAI_API_KEY]\nOPENAI_ORG=[YOUR_OPENAI_ORG]\n")),(0,i.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"Remember to keep your API key secure and avoid sharing it publicly. This file should not be committed to Git or other version control systems."),(0,i.mdx)("h2",{id:"running-ui-extension-locally"},"Running UI Extension locally"),(0,i.mdx)("p",null,"Whether it's an extension with generated implementation of extension points or a demo extension, you can run the extension locally and verify the generated result."),(0,i.mdx)("p",null,"From the extension project directory, begin by running the following command:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"aio app run\n")),(0,i.mdx)("p",null,"This will deploy the actions to Adobe I/O Runtime while running the UI part on the local machine."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"➜  demo-extension-project % aio app run\n  create .vscode/launch.json\n\nNo change to package.json was detected. No package manager install will be executed.\n\nTo view your local application:\n  -> https://localhost:9080\nTo view your deployed application in the Experience Cloud shell:\n  -> https://experience.adobe.com/?devMode=true#/custom-apps/?localDevUrl=https://localhost:9080\npress CTRL+C to terminate dev environment\n")),(0,i.mdx)("h4",{id:"accepting-the-certificate-first-time-users"},"Accepting the certificate (First time users)"),(0,i.mdx)("p",null,"If you are using this application for the first time, you will see a message similar to"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},"success: generated certificate\nA self signed development certificate has been generated, you will need to accept it in your browser in order to use it.\nWaiting for the certificate to be accepted.... timed out\n")),(0,i.mdx)("p",null,"This message pops up because we use a development SSL certificate for secure communication. Learn more about the purpose of this certificate ",(0,i.mdx)("a",{parentName:"p",href:"https://letsencrypt.org/docs/certificates-for-localhost/"},"here"),"."),(0,i.mdx)("p",null,"If you see this message, please navigate to ",(0,i.mdx)("inlineCode",{parentName:"p"},"https://localhost:9080"),", you should see a screen similar to this."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"613px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"64.99999999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/2b378084b922b4706af7b7deb20345eb/5530d/cert-1.webp 320w","/uix/static/2b378084b922b4706af7b7deb20345eb/5c2f3/cert-1.webp 613w"],sizes:"(max-width: 613px) 100vw, 613px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/2b378084b922b4706af7b7deb20345eb/dd4a7/cert-1.png 320w","/uix/static/2b378084b922b4706af7b7deb20345eb/ac863/cert-1.png 613w"],sizes:"(max-width: 613px) 100vw, 613px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/2b378084b922b4706af7b7deb20345eb/ac863/cert-1.png",alt:"Certification",title:"Certification",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"Click on ",(0,i.mdx)("inlineCode",{parentName:"p"},"Advanced"),", the nex screen may vary from browser to browser, but you should see a screen like this, where you can click on ",(0,i.mdx)("inlineCode",{parentName:"p"},"Proceed to localhost (unsafe)")," to accept the certificate."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"608px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"90.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/94a8822b887641fef60d5eb3eeaffb74/5530d/cert-2.webp 320w","/uix/static/94a8822b887641fef60d5eb3eeaffb74/dfa82/cert-2.webp 608w"],sizes:"(max-width: 608px) 100vw, 608px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/94a8822b887641fef60d5eb3eeaffb74/dd4a7/cert-2.png 320w","/uix/static/94a8822b887641fef60d5eb3eeaffb74/5db90/cert-2.png 608w"],sizes:"(max-width: 608px) 100vw, 608px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/94a8822b887641fef60d5eb3eeaffb74/5db90/cert-2.png",alt:"Certification",title:"Certification",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("h3",{id:"previewing-ui-extension-with-additional-parameters-in-url"},"Previewing UI Extension with additional parameters in URL"),(0,i.mdx)("p",null,"As mentioned before, you should have access to an AEM instance. For example, your URL should be structured like this:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-termminal"},"https://experience.adobe.com/?repo=<CURTOMER_AEM_HOST>#/@<CUSTOMER_IMS_ORG>/aem/cf/admin/\n")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"repo (host name of AEM instance): ",(0,i.mdx)("inlineCode",{parentName:"li"},"repo=<CURTOMER_AEM_HOST>"))),(0,i.mdx)("p",null,"For previewing and testing, you don't need to ",(0,i.mdx)("a",{parentName:"p",href:"../../../guides/publication"},"publish the extension"),". Instead, you can add extra parameters in the URL:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"ext (extension): ",(0,i.mdx)("inlineCode",{parentName:"li"},"ext=https://localhost:9080")),(0,i.mdx)("li",{parentName:"ul"},"devMode (development mode): ",(0,i.mdx)("inlineCode",{parentName:"li"},"devMode=true")," (required to allow access to resources on ",(0,i.mdx)("inlineCode",{parentName:"li"},"production")," env from localhost)")),(0,i.mdx)("p",null,"The final URL for local preview will look like:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"https://experience.adobe.com/?ext=https://localhost:9080&repo=<CURTOMER_AEM_HOST>#/@<CUSTOMER_IMS_ORG>/aem/cf/editor/editor/<PATH_TO_CONTENT_FRAGMENT>\n")),(0,i.mdx)("p",null,"The system will process these parameters, making it work as if the extension was published."),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"Please note that for testing purposes, we will be operating with an already created Content Fragment located at ",(0,i.mdx)("inlineCode",{parentName:"p"},"PATH_TO_CONTENT_FRAGMENT"),", which in this case is ",(0,i.mdx)("inlineCode",{parentName:"p"},"/content/dam/dev-test-fragment"),"."),(0,i.mdx)("p",null,"The result of the UI Extension's work:"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.9375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/82b402629f7b72e3517abfaec72c0483/5530d/demo-1.webp 320w","/uix/static/82b402629f7b72e3517abfaec72c0483/0c8fb/demo-1.webp 640w","/uix/static/82b402629f7b72e3517abfaec72c0483/94b1e/demo-1.webp 1280w","/uix/static/82b402629f7b72e3517abfaec72c0483/0b34d/demo-1.webp 1920w","/uix/static/82b402629f7b72e3517abfaec72c0483/713ee/demo-1.webp 2526w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/82b402629f7b72e3517abfaec72c0483/dd4a7/demo-1.png 320w","/uix/static/82b402629f7b72e3517abfaec72c0483/0f09e/demo-1.png 640w","/uix/static/82b402629f7b72e3517abfaec72c0483/bbbf7/demo-1.png 1280w","/uix/static/82b402629f7b72e3517abfaec72c0483/ac7a9/demo-1.png 1920w","/uix/static/82b402629f7b72e3517abfaec72c0483/ff8f0/demo-1.png 2526w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/82b402629f7b72e3517abfaec72c0483/bbbf7/demo-1.png",alt:"Header Menu Button with Modal",title:"Header Menu Button with Modal",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1168px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"59.06250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/05180b71f5839a186b90297295de67f5/5530d/demo-2.webp 320w","/uix/static/05180b71f5839a186b90297295de67f5/0c8fb/demo-2.webp 640w","/uix/static/05180b71f5839a186b90297295de67f5/ba85f/demo-2.webp 1168w"],sizes:"(max-width: 1168px) 100vw, 1168px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uix/static/05180b71f5839a186b90297295de67f5/dd4a7/demo-2.png 320w","/uix/static/05180b71f5839a186b90297295de67f5/0f09e/demo-2.png 640w","/uix/static/05180b71f5839a186b90297295de67f5/b38ab/demo-2.png 1168w"],sizes:"(max-width: 1168px) 100vw, 1168px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uix/static/05180b71f5839a186b90297295de67f5/b38ab/demo-2.png",alt:"Demo project",title:"Demo project",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("h2",{id:"short-overview-of-generated-components"},"Short overview of generated components"),(0,i.mdx)("h3",{id:"routing"},"Routing"),(0,i.mdx)("p",null,"The component ",(0,i.mdx)("inlineCode",{parentName:"p"},"src/aem-cf-editor-1/web-src/src/components/App.js")," contains the routing of our application. We always have this generated file."),(0,i.mdx)("p",null,"Our extension is responsible for rendering several things:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"The logic of registering our extension (it's the second required part of the extension)."),(0,i.mdx)("li",{parentName:"ul"},"Any partial UI components that may render inside the host app, for example as the content of a pop-up when a button is clicked (optional).")),(0,i.mdx)("p",null,"If you need additional functionality, you can add new entry points and specify them in the routing after a generation."),(0,i.mdx)("h3",{id:"extension-registration"},"Extension registration"),(0,i.mdx)("p",null,"The component ",(0,i.mdx)("inlineCode",{parentName:"p"},"src/aem-cf-editor-1/web-src/src/components/ExtensionRegistration.js")," registers our extension with the host AEM instance as soon as it loads, so they can share data and communicate with each other."),(0,i.mdx)("p",null,'Also, it contains the declaration of "what exactly and how we want" to customize the AEM Content Fragment Editor service. You can add your own custom customization declaration here.'),(0,i.mdx)("h3",{id:"pop-up-content"},"Pop-up content"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"src/aem-cf-editor-1/web-src/src/components/*Modal.js")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"src/aem-cf-editor-1/web-src/src/components/*Widget.js")),(0,i.mdx)("li",{parentName:"ul"},'These components are optional and will be generated if you chose "adding UI" during project generation. They contain logic related to the UI and interaction with the user when certain buttons are clicked.')),(0,i.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"For further information regarding the common concepts in creating extensions, you can refer to the ",(0,i.mdx)("a",{parentName:"p",href:"../api/commons"},"Common Concepts in Creating Extensions"),"."),(0,i.mdx)("h2",{id:"known-limitations"},"Known limitations"),(0,i.mdx)("p",null,"The current behavior is that if you generate extension point implementations and later add custom code, then run the generation process again to add new functionality, the custom code will be overwritten, while the data added during the generation CLI dialog (including previous and the latest) will be retained."),(0,i.mdx)("p",null,"In future versions, a more intelligent mechanism will be introduced to merge the generated functionality with manually added code, allowing for a smoother integration of customizations."),(0,i.mdx)("h2",{id:"related-resources"},"Related resources"),(0,i.mdx)(m,{slots:"link, text",mdxType:"DiscoverBlock"}),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"../"},"AEM Content Fragment Editor")),(0,i.mdx)("p",null,"Read about AEM Content Fragments Editor Extensibility"),(0,i.mdx)(m,{slots:"link, text",mdxType:"DiscoverBlock"}),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"../api/commons"},"Common Concepts in Creating Extensions")),(0,i.mdx)("p",null,"Learn about common concepts, extension registration, and methods that can be used in any extension"),(0,i.mdx)(m,{slots:"link, text",mdxType:"DiscoverBlock"}),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"../../../guides/development-flow"},"UI Extensions Development Flow")),(0,i.mdx)("p",null,"Learn how to implement, test and deploy your own UI Extensions with Adobe App Builder"))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-services-aem-cf-editor-code-generation-index-md-4662445dd06c554aa4e9.js.map