"use strict";(self.webpackChunk_adobe_uix_docs=self.webpackChunk_adobe_uix_docs||[]).push([[6859],{59333:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return i},default:function(){return c}});var a=n(87462),r=n(45987),d=(n(15007),n(64983)),l=n(91515);const o=["components"],i={},m={_frontmatter:i},s=l.Z;function c(e){let{components:t}=e,n=(0,r.Z)(e,o);return(0,d.mdx)(s,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"learn-how-to-exchange-data-between-universal-editor-and-your-extension"},"Learn how to exchange data between Universal Editor and your extension"),(0,d.mdx)("p",null,"As we develop extensions for the Universal Editor, it's essential to facilitate data exchange between the editor and the extension. There are two main categories of data involved:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"User-specific information, like IMS organization."),(0,d.mdx)("li",{parentName:"ul"},"Editor-specific information, such as the current editor location.")),(0,d.mdx)("p",null,"Below you can find the details on how to access these data categories."),(0,d.mdx)("h3",{id:"shared-context"},"Shared Context"),(0,d.mdx)("p",null,"The shared context is a dataset that Universal Editor shares with UI Extensions. It's used to understand the context of\nthe user who is running Universal Editor. You can access the shared context through the ",(0,d.mdx)("inlineCode",{parentName:"p"},"sharedContext")," property of the\nconnection object."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'import { attach } from "@adobe/uix-guest";\n\n  useEffect(() => {\n    (async () => {\n      const guestConnection = await attach({ id: extensionId });\n\n      setGuestConnection(guestConnection);\n    })();\n  }, []);\n  \n ...\n \nconst context = guestConnection.sharedContext;\nconst hostAppLocale = context.get("locale");\n')),(0,d.mdx)("p",null,"Available data in the shared context:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Key"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"locale"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},"Locale string for globalization of current user")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"theme"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},"Available ",(0,d.mdx)("a",{parentName:"td",href:"https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/overview/aem-cloud-service-on-unified-shell#changing-to-dark-theme"},"options"),': "light" or "dark". The theme selected by current user')),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"orgId"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},"IMS org ID")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"token"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},"User token")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"authScheme"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},"Auth schema that should be used during communication with host application")))),(0,d.mdx)("h3",{id:"editor-state"},"Editor State"),(0,d.mdx)("p",null,"The editor state is a dataset that Universal Editor shares with UI Extensions. It's used to understand the current state\nof the editor. You can access the editor state through the ",(0,d.mdx)("inlineCode",{parentName:"p"},"editorState")," property of the host object."),(0,d.mdx)("p",null,"Below is an example of how you can access editor state properties, e.g., connections."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-js"},'import { attach } from "@adobe/uix-guest";\n\n...\n\n  useEffect(() => {\n    (async () => {\n      const guestConnection = await attach({ id: extensionId });\n\n      setGuestConnection(guestConnection);\n    })();\n  }, []);\n ...\n\nconst editorState = await guestConnection.host.editorState.get();\nconst {connections} = editorState;\n\n...\n    \n')),(0,d.mdx)("p",null,"Available data in the editor state:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Key"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Sample"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"connections"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"obj")),(0,d.mdx)("td",{parentName:"tr",align:null},'{ "aemconnection": "aem:%auth_instance_url%" }'),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/implementing/developing/universal-editor/getting-started#connections"},"Connections")," which are used in the app are stored as ",(0,d.mdx)("inlineCode",{parentName:"td"},"<meta>")," tags in the pageâ€™s ",(0,d.mdx)("inlineCode",{parentName:"td"},"<head>"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"selected"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"obj<string, boolean>")),(0,d.mdx)("td",{parentName:"tr",align:null},"{fcb38012-c4c7-51a8-896c-79e76kjk: true}"),(0,d.mdx)("td",{parentName:"tr",align:null},"Element that is currently edited.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"editables"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"[objects]")),(0,d.mdx)("td",{parentName:"tr",align:null},"Array","[{id: '33661..\", type: 'reference', resource: \"urn:..., ..}, {}]"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of elements that might be edited. The editable element object includes ",(0,d.mdx)("a",{parentName:"td",href:"https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/implementing/developing/universal-editor/attributes-types"},"proper metadata"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"location"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"string")),(0,d.mdx)("td",{parentName:"tr",align:null},'"%locationString%"'),(0,d.mdx)("td",{parentName:"tr",align:null},"The current page location")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"customTokens"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"obj<string, string>")),(0,d.mdx)("td",{parentName:"tr",align:null},'{"aemconnection":""}'),(0,d.mdx)("td",{parentName:"tr",align:null},"Custom tokens available for connections")))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-services-aem-universal-editor-api-data-index-md-9fe4f9f06e06571c9816.js.map